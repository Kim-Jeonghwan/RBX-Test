/**********************************************************************

	Nexcom Co., Ltd.
	Copyright 2021. All Rights Reserved.

	Filename		: DevSci.h
	Version			: 00.10
	Description		: 
	Tracebility		: 
	Programmer	    :
	Last Updated	: 2025. 08. 04.

**********************************************************************/

/*
 * Modification History
 * --------------------
 * 
 * 
*/


#ifndef DEVSCI_H
#define DEVSCI_H

/* ************************** [[   include  ]]  *********************************************************** */
#include "main.h"


/* ************************** [[   define   ]]  *********************************************************** */
#define QUEUE_MAX_SCI 200u


/* ************************** [[   struct   ]]  *********************************************************** */
typedef enum
{
	eSciB_SOF = 0,
	eSciB_MSGID,
	eSciB_LEN,
	eSciB_DATA,
	eSciB_CRC,
	eSciB_EOT
}eSciB;

typedef struct
{
	eSciB 			Frame;		/* 프레임 위치  */
	Uint16 			MSGID;		/* 메시지 ID  */
	Uint16 			LEN;		/* 메시지 길이  */
	Uint16 			DATA[50u];	/* 수신 데이터  */
	Uint16 			CRC;		/* CRC 확인  */
	volatile Uint16 POS;		/* 메시지 현재 위치  */
} stSciB;



typedef enum
{
	eSciC_SOF = 0,
	eSciC_MSGID,
	eSciC_LEN,
	eSciC_DATA,
	eSciC_CRC,
	eSciC_EOT
}eSciC;

typedef struct
{
	eSciC 			Frame;		/* 프레임 위치  */
	Uint16 			MSGID;		/* 메시지 ID  */
	Uint16 			LEN;		/* 메시지 길이  */
	Uint16 			DATA[50u];	/* 수신 데이터  */
	Uint16 			CRC;		/* CRC 확인  */
	volatile Uint16 POS;		/* 메시지 현재 위치  */
} stSciC;








typedef struct
{
    Uint16 front;
    Uint16 rear;
    Uint16 Data[QUEUE_MAX_SCI];
} stQsci;






/* ************************** [[   global   ]]  *********************************************************** */


/* ************************** [[  function  ]]  *********************************************************** */
void Initial_SCI(void);



__interrupt void isrScib_DCE(void);

void xmtScib_DCE(Uint16 data[], Uint16 len);

void sendScib_DCE(void);



__interrupt void isrScic_INCL(void);

void xmtScic_INCL(Uint16 data[], Uint16 len);

void sendScic_INCL(void);



#endif	// #ifndef DEVSCI_H



